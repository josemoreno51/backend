
{% extends "base.html" %}

{% block content %}
<div class=\"bg-white p-6 rounded-lg shadow-md max-w-4xl mx-auto\">
    <div class=\"flex justify-between items-start mb-6\">
        <h2 class=\"text-2xl font-bold text-gray-800\">游눓 {{ dise침o.nombre }}</h2>
        <div class=\"flex space-x-2\">
            <a href=\"{% url 'diseno_ramo_convertir_venta' dise침o.id %}\" class=\"bg-green-500 hover:bg-green-600 text-white font-bold py-2 px-4 rounded\">
                游눯 Convertir a Venta
            </a>
            <a href=\"{% url 'diseno_ramos_list' %}\" class=\"bg-gray-500 hover:bg-gray-600 text-white font-bold py-2 px-4 rounded\">
                Volver
            </a>
        </div>
    </div>

    <div class=\"grid grid-cols-1 md:grid-cols-2 gap-6 mb-6\">
        <div class=\"bg-gray-50 p-4 rounded-lg\">
            <h3 class=\"text-lg font-semibold mb-3\">游늶 Informaci칩n del Dise침o</h3>
            <p><strong>Cliente:</strong> {{ dise침o.cliente.nombre }}</p>
            <p><strong>Estilo:</strong> <span class=\"bg-pink-100 text-pink-800 px-2 py-1 rounded-full text-sm\">{{ dise침o.get_estilo_display }}</span></p>
            <p><strong>Fecha de creaci칩n:</strong> {{ dise침o.fecha_creacion|date:"d/m/Y H:i" }}</p>
            {% if dise침o.notas %}
            <p><strong>Notas:</strong> {{ dise침o.notas }}</p>
            {% endif %}
        </div>

        <div class=\"bg-green-50 p-4 rounded-lg\">
            <h3 class=\"text-lg font-semibold mb-3\">游눯 Resumen de Precios</h3>
            <div class=\"space-y-2\">
                <div class=\"flex justify-between\">
                    <span>Precio Base del Ramo:</span>
                    <span class=\"font-semibold\">${{ dise침o.precio_base }}</span>
                </div>
                <div class=\"flex justify-between\">
                    <span>Total de Flores:</span>
                    <span class=\"font-semibold\">${{ total|add:"-15" }}</span>
                </div>
                <div class=\"flex justify-between border-t pt-2\">
                    <span class=\"font-bold\">Total del Ramo:</span>
                    <span class=\"font-bold text-green-600 text-lg\">${{ total }}</span>
                </div>
            </div>
        </div>
    </div>

    <div class=\"mb-6\">
        <h3 class=\"text-lg font-semibold mb-3\">游꺜 Flores del Ramo</h3>
        {% if detalles %}
        <div class=\"overflow-x-auto\">
            <table class=\"min-w-full bg-white\">
                <thead>
                    <tr class=\"bg-gray-200 text-gray-600 uppercase text-sm leading-normal\">
                        <th class=\"py-3 px-6 text-left\">Flor</th>
                        <th class=\"py-3 px-6 text-left\">Color</th>
                        <th class=\"py-3 px-6 text-left\">Precio Unitario</th>
                        <th class=\"py-3 px-6 text-left\">Cantidad</th>
                        <th class=\"py-3 px-6 text-left\">Subtotal</th>
                    </tr>
                </thead>
                <tbody class=\"text-gray-600 text-sm font-light\">
                    {% for detalle in detalles %}
                    <tr class=\"border-b border-gray-200 hover:bg-gray-50\">
                        <td class=\"py-3 px-6 text-left\">
                            <div class=\"flex items-center\">
                                <span class=\"text-xl mr-2\">{{ detalle.flor.imagen }}</span>
                                {{ detalle.flor.nombre }}
                            </div>
                        </td>
                        <td class=\"py-3 px-6 text-left\">
                            <span class=\"bg-{{ detalle.flor.color }}-100 text-{{ detalle.flor.color }}-800 px-2 py-1 rounded-full text-xs\">
                                {{ detalle.flor.get_color_display }}
                            </span>
                        </td>
                        <td class=\"py-3 px-6 text-left\">${{ detalle.flor.precio_unidad }}</td>
                        <td class=\"py-3 px-6 text-left\">{{ detalle.cantidad }}</td>
                        <td class=\"py-3 px-6 text-left\">
                            <span class=\"font-semibold text-blue-600\">${{ detalle.subtotal }}</span>
                        </td>
                    </tr>
                    {% endfor %}
                </tbody>
            </table>
        </div>
        {% else %}
        <div class=\"text-center py-8 bg-gray-50 rounded-lg\">
            <p class=\"text-gray-500\">No hay flores en este ramo.</p>
        </div>
        {% endif %}
    </div>
</div>
{% endblock %}
"@ | Out-File -FilePath \"ventas\\templates\\ventas\\diseno_ramo_detail.html\" -Encoding UTF8